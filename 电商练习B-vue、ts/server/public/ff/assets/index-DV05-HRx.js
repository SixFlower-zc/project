import{_ as c,h as _,a5 as b,X as f,a6 as g,i as S,a,k as s,F as v,W as k,o as w,j as h,Y as l,N as V}from"./index-Dx_JHYpV.js";import{F as y,a as C,C as F}from"./index-B3OrkuQt.js";/* empty css              */const $={data(){return{username:"",password:""}},methods:{onSubmit(){console.log("onSubmit"),_({url:"/users/login",method:"post",data:{username:this.username,password:this.password}}).then(e=>{console.log(e.data),e.data.code==1?(b(e.data.message),localStorage.setItem("jdtoken",e.data.token),localStorage.setItem("username",e.data.user.username),localStorage.setItem("uid",e.data.user.id),f().getCartList(),this.$router.push("/")):g(e.data.message)})}}},x={style:{margin:"16px"}};function B(e,t,N,I,n,d){const m=V,u=C,p=F,r=k,i=y;return w(),S(v,null,[a(m,{title:"登录"}),a(i,{onSubmit:d.onSubmit},{default:s(()=>[a(p,{inset:""},{default:s(()=>[a(u,{modelValue:n.username,"onUpdate:modelValue":t[0]||(t[0]=o=>n.username=o),name:"用户名",label:"用户名",placeholder:"用户名",rules:[{pattern:/^[A-Za-z]\w{5,}$/,message:"用户名必须用字母开头，由数字字母下划线组成，至少6位"}]},null,8,["modelValue"]),a(u,{modelValue:n.password,"onUpdate:modelValue":t[1]||(t[1]=o=>n.password=o),type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{pattern:/^\S{6,}$/,message:"至少6位"}]},null,8,["modelValue"])]),_:1}),h("div",x,[a(r,{round:"",block:"",type:"primary","native-type":"submit"},{default:s(()=>[l(" 登录 ")]),_:1}),a(r,{round:"",block:"",type:"primary",onClick:t[2]||(t[2]=o=>e.$router.push("/reg"))},{default:s(()=>[l(" 去注册 ")]),_:1})])]),_:1},8,["onSubmit"]),a(r,{onClick:t[3]||(t[3]=o=>e.$router.back())},{default:s(()=>[l("后退")]),_:1})],64)}const z=c($,[["render",B],["__scopeId","data-v-b5890b48"]]);export{z as default};
